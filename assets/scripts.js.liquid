/*
    Javascript file for XTENDED
    Author: Sheldon Codling
    Website: www.sheldonc.ca
    Description: This stylesheet contains the custom styles for the Xtended shopify theme.
    Date: March 18th
*/

let scrollIndex = 0;

function toggleMobileNav() {
    let mobileNav = document.getElementById("mobile_nav");
    console.log("This works!");

    mobileNav.classList.toggle("-translate-x-full");
}

(function carouselController() {
    const carouselItems = document.querySelectorAll(".carousel_item");
    const sliderDots = document.getElementById("slider_dots").children;
    const timer = 7000;
    let itemIndex = carouselItems.length - 1;

    function scrollCarousel() {
        
        function decrease() {
            itemIndex -= 1;
            if (itemIndex < 0) {
                itemIndex = 5;
                carouselItems.forEach((i) => {
                    i.classList.remove("not_active");
                })
            }
            return itemIndex;
        }
        
        setTimeout(() => {
            carouselItems[itemIndex].classList.add("not_active");
            decrease();   
            console.log("item Index: " + itemIndex);  
        }, timer)
    }

    setInterval(() => {
        scrollCarousel();
    }, timer)

})();

document.getElementById("burger").addEventListener("click", toggleMobileNav);
document.getElementById("close_btn").addEventListener("click", toggleMobileNav);