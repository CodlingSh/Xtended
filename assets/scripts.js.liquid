/*
    Javascript file for XTENDED
    Author: Sheldon Codling
    Website: www.sheldonc.ca
    Description: This stylesheet contains the custom styles for the Xtended shopify theme.
    Date: March 18th
*/

let scrollIndex = 0;

function toggleMobileNav() {
    let mobileNav = document.getElementById("mobile_nav");
    console.log("This works!");

    mobileNav.classList.toggle("menu_visible");
}

function scrollCarousel() {
    let carousel = document.getElementById("slider");

    let itemWidth = carousel.children[1].getBoundingClientRect().width;
    let transitionTime = window.getComputedStyle(carousel).getPropertyValue("transition").split(" ")[1].split("s")[0] * 1000;

    carousel.style.transform = "translatex(-" + itemWidth +"px)";

    carousel.addEventListener("transitionend", () => {
        carousel.appendChild(carousel.children[0]);
        carousel.style.transition = "none";
        carousel.style.transform = "translatex(0px)";
        setTimeout(() => {
            carousel.style.transition = "";
        }, 10);
    }, {once: true});

    console.log("ligma");
}

setInterval(scrollCarousel, 5000);

document.getElementById("burger").addEventListener("click", toggleMobileNav);
document.getElementById("close_btn").addEventListener("click", toggleMobileNav);